
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Output to CSV &#8212; Databaker Usage 0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Examples" href="examples.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="output-to-csv">
<h1>Output to CSV<a class="headerlink" href="#output-to-csv" title="Permalink to this headline">¶</a></h1>
<div class="section" id="conversion-segments">
<h2>Conversion Segments<a class="headerlink" href="#conversion-segments" title="Permalink to this headline">¶</a></h2>
<p>A “conversion segment” is just a catch-all term to describe a single extraction of data from a table. So the product of running through your seg of instruction once against a single table.</p>
<p>In most scenarios a “conversion segment” and the output from processing a single tab will be the same, but be aware there are scenarios where you may want to process a single tab more than once, hence the abstraction.</p>
<p>You create a conversion segment with the following function:</p>
<p><strong>*conversionsegment = ConversionSegment(tab, dimensions, observations)*</strong></p>
<p>tab, dimensions and observations are all variables from earlier in the script.</p>
<p>The ConversionSegment() function takes them and flattens the data, this is effectively where all the prior instructions are put into play. It’s effectively boiler plate code so you’ll never have to change it, save when bringing pandas directly into your workflow (see below).</p>
<p>A single conversionsegment (or a list of them) can then be fed to the CSV writer.</p>
</div>
<div class="section" id="post-processing-and-write-to-csv">
<h2>Post-processing and Write to CSV<a class="headerlink" href="#post-processing-and-write-to-csv" title="Permalink to this headline">¶</a></h2>
<p>Databaker deliberately includes a step where your file has been flattened but before it has been written to csv. This is to allow us to leverage the python pandas library for dealing with edge cases and/or particularly bad source data that may need some finishing touches.</p>
<p>Outlining all you can do with pandas is far beyond the scope of these documents, but the following shows how you can incorporate it into your databaker workflow.</p>
<p>Not using pandas:</p>
<img alt="_images/writeCSV.png" src="_images/writeCSV.png" />
<p>Using pandas:</p>
<img alt="_images/writeCSVwithPandas.png" src="_images/writeCSVwithPandas.png" />
<p>That’s literally it. the writetechnicalCSV (see below) function can work with either pandas dataframes or pure databaker input, there’s no need to “convert back to databaker” or somesuch.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Output to CSV</a><ul>
<li><a class="reference internal" href="#conversion-segments">Conversion Segments</a></li>
<li><a class="reference internal" href="#post-processing-and-write-to-csv">Post-processing and Write to CSV</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="examples.html" title="previous chapter">Examples</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/output.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Michael Adams.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/output.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>